"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[7879],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return h}});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var o=a.createContext({}),p=function(e){var t=a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(o.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,o=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),m=p(n),h=i,d=m["".concat(o,".").concat(h)]||m[h]||u[h]||r;return n?a.createElement(d,s(s({ref:t},c),{},{components:n})):a.createElement(d,s({ref:t},c))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,s=new Array(r);s[0]=m;var l={};for(var o in t)hasOwnProperty.call(t,o)&&(l[o]=t[o]);l.originalType=e,l.mdxType="string"==typeof e?e:i,s[1]=l;for(var p=2;p<r;p++)s[p]=n[p];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},9758:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return o},default:function(){return h},frontMatter:function(){return l},metadata:function(){return p},toc:function(){return u}});var a=n(3117),i=n(102),r=(n(7294),n(3905)),s=["components"],l={},o="Customizing the User Interface (UI)",p={unversionedId:"authenticate/ui-features",id:"authenticate/ui-features",title:"Customizing the User Interface (UI)",description:"The user interface (UI) can be setup the use custom templates or",source:"@site/docs/authenticate/55-ui-features.md",sourceDirName:"authenticate",slug:"/authenticate/ui-features",permalink:"/docs/authenticate/ui-features",editUrl:"https://github.com/authp/authp.github.io/edit/main/docs/authenticate/55-ui-features.md",tags:[],version:"current",sidebarPosition:55,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Usage Examples",permalink:"/docs/authenticate/usage-examples"},next:{title:"Local Configuration",permalink:"/docs/authenticate/local/local"}},c={},u=[{value:"Templates",id:"templates",level:2},{value:"Defining another theme",id:"defining-another-theme",level:3},{value:"Creating a new theme",id:"creating-a-new-theme",level:3},{value:"Overriding a specific page template",id:"overriding-a-specific-page-template",level:3},{value:"Other customization",id:"other-customization",level:2},{value:"Portal Links",id:"portal-links",level:3},{value:"Cascading Style Sheets (CSS)",id:"cascading-style-sheets-css",level:3},{value:"JavaScript",id:"javascript",level:3},{value:"Custom HTML Template Header",id:"custom-html-template-header",level:3},{value:"Other Static Assets",id:"other-static-assets",level:3}],m={toc:u};function h(e){var t=e.components,l=(0,i.Z)(e,s);return(0,r.kt)("wrapper",(0,a.Z)({},m,l,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"customizing-the-user-interface-ui"},"Customizing the User Interface (UI)"),(0,r.kt)("p",null,"The user interface (UI) can be setup the use custom templates or\nthe UI can be customized and altered with custom Cascading Style\nSheets (CSS), JavaScripts and other assets."),(0,r.kt)("h2",{id:"templates"},"Templates"),(0,r.kt)("h3",{id:"defining-another-theme"},"Defining another theme"),(0,r.kt)("p",null,"A custom HTML theme can be defined in the ",(0,r.kt)("strong",{parentName:"p"},"global options block")," of the ",(0,r.kt)("inlineCode",{parentName:"p"},"Caddyfile"),".\nThe theme name is set in the ",(0,r.kt)("strong",{parentName:"p"},"ui")," block that is nested in the\n",(0,r.kt)("strong",{parentName:"p"},"authentication portal")," of the ",(0,r.kt)("strong",{parentName:"p"},"security")," block as shown below."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"{\n  security {\n    authentication portal myportal {\n      ui {\n        theme basic\n      }\n    }\n  }\n}\n")),(0,r.kt)("p",null,"Defining a theme is optional, by default the ",(0,r.kt)("inlineCode",{parentName:"p"},"basic")," theme is used."),(0,r.kt)("h3",{id:"creating-a-new-theme"},"Creating a new theme"),(0,r.kt)("p",null,"Every template has its own folder in the ",(0,r.kt)("inlineCode",{parentName:"p"},"assets")," folder. The folder name\nshould equal the name of the theme. For example the basic template files\nare located in the folder ",(0,r.kt)("inlineCode",{parentName:"p"},"assets/templates/basic/"),". For reference and as\nan example the basic template files can be found here ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/greenpau/go-authcrunch/tree/main/assets/portal/templates/basic"},"https://github.com/greenpau/go-authcrunch/tree/main/assets/portal/templates/basic"),"."),(0,r.kt)("p",null,"Every template folder should include at least the following files:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"generic.template\nlogin.template\nportal.template\nregister.template\nwhoami.template\nsettings.template\nsandbox.template\n")),(0,r.kt)("p",null,"These template engine used is based on the Go library ",(0,r.kt)("inlineCode",{parentName:"p"},"pkg/ui/pages.go"),".\nThe files template files are compiled in the portal's binary."),(0,r.kt)("h3",{id:"overriding-a-specific-page-template"},"Overriding a specific page template"),(0,r.kt)("p",null,"When using the a theme you can also override one specific page template\nas well. The example for that is shown below where the usage is:\n",(0,r.kt)("inlineCode",{parentName:"p"},"template <PAGE_NAME> <FILEPATH>"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"{\n  security {\n    authentication portal myportal {\n      ui {\n        theme basic\n        template login {env.HOME}/.local/caddy/ui/login.template\n      }\n    }\n  }\n}\n")),(0,r.kt)("h2",{id:"other-customization"},"Other customization"),(0,r.kt)("h3",{id:"portal-links"},"Portal Links"),(0,r.kt)("p",null,"The following Caddyfile directive sets links that a user would see\nupon a successful login:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'{\n  security {\n    authentication portal myportal {\n      ui {\n        links {\n          "Prometheus" /prometheus\n          "Alertmanager" /alertmanager\n          "My App" /myapp\n        }\n      }\n    }\n  }\n}\n\n')),(0,r.kt)("p",null,"The link can be opened in a new tab or window via ",(0,r.kt)("inlineCode",{parentName:"p"},"target_blank")," argument:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'          "My App" /myapp target_blank\n')),(0,r.kt)("p",null,"The link can be disabled with ",(0,r.kt)("inlineCode",{parentName:"p"},"disabled")," argument:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'          "My App" /myapp disabled\n')),(0,r.kt)("p",null,"The link can have an icon associated with it via ",(0,r.kt)("inlineCode",{parentName:"p"},"icon")," argument:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'          "My App" /myapp icon "las la-cog"\n')),(0,r.kt)("p",null,"The icon is the reference to ",(0,r.kt)("a",{parentName:"p",href:"https://icons8.com/line-awesome"},"Line Awesome")," by Icon8."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Portal - UI - Icons",src:n(314).Z,width:"444",height:"407"})),(0,r.kt)("h3",{id:"cascading-style-sheets-css"},"Cascading Style Sheets (CSS)"),(0,r.kt)("p",null,"The following Caddyfile directive adds a custom CSS stylesheet to the\nplugin's pages. The stylesheet is available under ",(0,r.kt)("inlineCode",{parentName:"p"},"auth/assets/css/custom.css")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"{\n  security {\n    authentication portal myportal {\n      ui {\n        custom css path {env.HOME}/.local/caddy/ui/custom/styles.css\n      }\n    }\n  }\n}\n")),(0,r.kt)("h3",{id:"javascript"},"JavaScript"),(0,r.kt)("p",null,"Adding custom JavaScript can for example be useful for adding\nAnalytics tools or other JavaScript."),(0,r.kt)("p",null,"The following Caddyfile directive adds a custom JavaScript to the\nplugin's pages. The script is available under ",(0,r.kt)("inlineCode",{parentName:"p"},"auth/assets/js/custom.js")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"{\n  security {\n    authentication portal myportal {\n      ui {\n        custom js path {env.HOME}/.local/caddy/ui/custom/script.js\n      }\n    }\n  }\n}\n")),(0,r.kt)("h3",{id:"custom-html-template-header"},"Custom HTML Template Header"),(0,r.kt)("p",null,"The following Caddyfile directive injects the code found in ",(0,r.kt)("inlineCode",{parentName:"p"},"path/to/head.html"),"\nto ",(0,r.kt)("inlineCode",{parentName:"p"},"<head>")," section of the portal's pages:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"{\n  security {\n    authentication portal myportal {\n      ui {\n        custom html header path {env.HOME}/.local/caddy/ui/custom/head.html\n      }\n    }\n  }\n}\n")),(0,r.kt)("h3",{id:"other-static-assets"},"Other Static Assets"),(0,r.kt)("p",null,"The following Caddyfile directive loads any other asset for\nstatic file serving such as jpg, png et cetera."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'      ui {\n        static_asset "assets/css/app.css" "text/css" /path/to/app/styles.css\n      }\n')),(0,r.kt)("p",null,"The above configuration would cause the plugin to read ",(0,r.kt)("inlineCode",{parentName:"p"},"/path/to/app/styles.css"),"\nand begin serving it with content type of ",(0,r.kt)("inlineCode",{parentName:"p"},"text/css")," at\n",(0,r.kt)("inlineCode",{parentName:"p"},"AUTH_PORTAL/assets/css/app.css"),", e.g. ",(0,r.kt)("inlineCode",{parentName:"p"},"https://localhost/auth/assets/css/app.css"),"."))}h.isMDXComponent=!0},314:function(e,t,n){t.Z=n.p+"assets/images/portal_ui_icons-37be64e60f3db1866802dc8e58004d6f.png"}}]);